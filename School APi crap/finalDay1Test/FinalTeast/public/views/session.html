<!DOCTYPE html>
<!--   -->
<html>
  <head>
    <title>Ajax</title>
    <meta charset="utf-8"/>
    <style type="text/css">

    </style>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  </head>
  
  <body>  
<h1 id="session">Session</h1>


<div id="logout">
    <input onclick="createClicked()" id="logout" type="button" value="Logout" />
</div> 
<br>

    <label>Ident</label>
    <input id="ident" name="ident" type="number" min="0"/><br>
    <label>Name</label>
    <input id="name" name="title" type="text"/><br>

    <div id="create">
      <input id="createButton" type="button" value="Create" />
    </div>   
    <br>
    <label>Player</label>
    <select>
      <option value="chris-paul">chris-paul</option>
      <option value="lebron-james">lebron-james</option>
      <option value="james-harden">james-harden</option>
    </select> 
    <br>
    <input id="getPlayer" type="button" value="Display" />
    <br>
    <ul id='list'></ul>
	<script src="js/session.js"></script>
	<script type="text/javascript">
         function success(data) { 

        $("#list").empty();

console.log(data.info);

        for (let i=0;i<data.info.length;i++) {
           $("#list").append("<li>" + data.info[i].player.FirstName + " " + data.info[i].player.LastName + " " + data.info[i].player.Height + "</li>");
        }
        
      }
      function success2(data) { 

        $("#list").empty();
        $("#list").append("<li>" + data.info[0].player.FirstName + " " + data.info[0].player.LastName + " " + data.info[0].player.Height + "</li>");
      }      


      function success3(data) { 
console.log(data.info);
  console.log(';laksjdr;lkj')
console.log(data.info[0].player.FirstName);

console.log(data.info[0].stats.Pts['#text']);


        $("#list").empty();
        $("#list").append("<li>" + data.info[0].player.FirstName + " " + data.info[0].player.LastName + " Points = " + data.info[0].stats.Pts['#text'] + "</li>");


      }      

   //stats[i].stats.Pts['#text']


      function requestClickedNHL(){
//send an HTTP get request and get a result back.
      $.get("/request/nhl", success);
        return false;
      }
       function requestClickedNBA(){
//send an HTTP get request and get a result back.
      $.get("/request/nba", success);
        return false;
      }
       function requestClickedNBAPlayer(){
//send an HTTP get request and get a result back.
      $.get("/request/nba/"+$("#name").val(), success2);
        return false;
      }
      $("#getPlayer").click(function(){
        console.log('player get clicked')
        console.log($('select').val())
        //send an HTTP get request and get a result back.
      $.get("/session/nba/stats/"+$("select").val(), success3);
        return false;
      })
      
      
      $(document).ready(function(){        
        $("#requestButtonNHL").click(requestClickedNHL);
        $("#requestButtonNBA").click(requestClickedNBA);
        $("#requestButtonNBAPlayer").click(requestClickedNBAPlayer);
// $("#requestButtonNBAPlayerStats").click(requestClickedNBAPlayerStats);

      });     
  </script>
  </body>
</html>  
  
  
